#!/bin/bash

# Add comment above this line
echo "Opsera Param value is: $OPSERA_INPUT"

# Pipeline Test Script
# Usage: ./script.sh [success|fail]
# This script takes an argument and exits with appropriate status code

# Get the argument, default to "success" if not provided
ACTION=${1:-success}

echo "==================================="
echo "Pipeline Test Script"
echo "==================================="
echo "Argument received: $ACTION"
echo "Timestamp: $(date)"
echo ""

# Process based on argument
case $ACTION in
    success)
        echo "✓ SUCCESS: Pipeline executed successfully!"
        echo "Exit code: 0"
        exit 0
        ;;
    fail)
        echo "✗ FAIL: Pipeline failed intentionally!"
        echo "Exit code: 1"
        exit 1
        ;;
    *)
        echo "Error: Invalid argument '$ACTION'"
        echo "Valid options: success, fail"
        exit 1
        ;;
esac
